targetPort: 8000 # port of pod container
ingress:
  enable: true
  host: dev-api-insurance.baohiemtasco.vn
  path: /claim-ai(/|$)(.*)
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /$2


tls:
  - hosts:
      - '*.baohiemtasco.vn'
    secretName: baohiemtasco-vn-tls-sectigo-wildcard

envFrom:
  configMaps:
    - name: claim-ai-cm
    - name: claim-ai-redis-cm
    - name: keycloak-cm

resources:
  requests:
    cpu: "50m"
    memory: "200Mi"
  limits:
    cpu: "400m"
    memory: "1Gi"

celeries:
  - name: claim-xm-image-processor
    replicas: 1
    runCommand: python -m app.workers.image_processor
    resources:
      requests:
        cpu: 50m
        memory: 256Mi
      limits:
        cpu: 1000m
        memory: 2Gi
