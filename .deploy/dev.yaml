targetPort: 8000 # port of pod container
ingress:
  enable: true
  host: dev-api-insurance.baohiemtasco.vn
  path: /acg-xm
  annotations:
    nginx.ingress.kubernetes.io/whitelist-source-range: "123.68.86.123/32"
    nginx.ingress.kubernetes.io/proxy-body-size: "1000m"
    nginx.ingress.kubernetes.io/client-header-buffer-size: "100k"
    nginx.ingress.kubernetes.io/http2-max-header-size: "100k"
    nginx.ingress.kubernetes.io/large-client-header-buffers: "4 100k"

envFrom:
  configMaps:
    - name: xm-common-cm
    - name: keycloak-cm

resources:
  requests:
    cpu: "50m"
    memory: "200Mi"
  limits:
    cpu: "400m"
    memory: "1Gi"

celeries:
  - name: acg-xm-image-processor
    replicas: 1
    runCommand: python -m app.workers.image_processor
    resources:
      requests:
        cpu: 50m
        memory: 512Mi
      limits:
        cpu: 500m
        memory: 1Gi

  - name: acg-xm-policy-creator
    replicas: 1
    runCommand: python -m app.workers.policy_creator
    resources:
      requests:
        cpu: 50m
        memory: 512Mi
      limits:
        cpu: 500m
        memory: 1Gi 

# depCommand: ./run.sh

